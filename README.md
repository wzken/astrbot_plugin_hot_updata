# AstrBot 插件热更新插件

## 简介

`astrbot_plugin_hot_update` 是一个为 [AstrBot] 设计的插件，允许管理员通过简单的命令在线检查、更新和重载已安装的 AstrBot 插件（需插件仓库为 GitHub）。无需手动下载和重启 Bot，即可保持插件为最新版本。

## 主要功能

- **列出所有可更新插件**：自动检测所有已加载插件的 GitHub 仓库，检查是否有新版本。
- **一键更新插件**：通过命令选择需要更新的插件，自动下载并重载，无需重启 Bot。
- **多插件批量更新**：支持一次性选择多个插件进行更新。

## 安装方法

1. 将本插件文件夹放入 AstrBot 的 `data/plugins/` 目录下。
2. 启动或重载 AstrBot，插件会自动加载。

## 使用方法

### 1. 列出可更新插件

发送命令：

```
/update list
```

- 机器人会检查所有已加载插件的 GitHub 仓库，列出有新版本的插件及其编号。

### 2. 更新指定插件

发送命令：

```
/update up <编号1> <编号2> ...
```

- 例如：`/update up 1 3` 表示同时更新第 1 和第 3 个可更新插件。
- 只有管理员权限用户可执行此命令。

## 命令说明

| 命令                | 权限     | 说明                                 |
|---------------------|----------|--------------------------------------|
| /update list        | 所有人   | 检查并列出所有可更新的插件           |
| /update up <编号...>| 管理员   | 更新并重载指定编号的插件（可批量）   |

## 注意事项

- 仅支持仓库地址为 GitHub 的插件（需在插件元数据中正确填写 `repo_url`）。
- 插件管理器需支持 `install_plugin` 方法（AstrBot 0.1.5.6 及以上版本）。
- 更新操作会自动重载插件，但不会重启整个 Bot。
- 若插件未提供仓库地址或仓库格式不正确，将无法检测和更新。

## 常见问题

- **Q: 为什么提示“没有可更新的插件列表”？**
  - A: 需要先执行 `/update list`，获取最新的可更新插件列表。


